# ==========================================
# HealthLinkConnect - Variáveis de Ambiente
# ==========================================
# Copie este arquivo para .env e preencha com seus valores
# cp env.example .env

# ==========================================
# NODE ENVIRONMENT
# ==========================================
NODE_ENV=production
PORT=5000

# ==========================================
# DATABASE (PostgreSQL)
# ==========================================
# Para Docker local, use:
DATABASE_URL=postgresql://postgres:lia_dev_2024@postgres:5432/lia_cortex_dev
# Para produção externa, use sua URL do Neon ou outro PostgreSQL:
# DATABASE_URL=postgresql://user:password@host:5432/database?sslmode=require

# ==========================================
# REPLICAÇÃO/SINCRONIZAÇÃO
# ==========================================
# URL do banco de produção (Replit/Neon) - Master
# ⚠️  Esta URL é usada APENAS para LEITURA (sincronização)
#     O script de sincronização NUNCA modifica o banco de produção
PRODUCTION_DATABASE_URL=postgresql://neondb_owner:npg_X7wuH9centWi@ep-bold-wildflower-adga7o9q.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require

# ==========================================
# REDIS
# ==========================================
# Opção 1: Redis Local (Docker) - Use quando rodando com docker-compose
# Para Redis local, não use TLS e não precisa de senha (a menos que configure)
REDIS_HOST=redis
REDIS_PORT=6379
# UPSTASH_REDIS_REST_URL não é necessário para Redis local
# UPSTASH_REDIS_REST_TOKEN não é necessário para Redis local
UPSTASH_REDIS_HOST=redis
UPSTASH_REDIS_PORT=6379
# Deixe vazio para Redis local sem senha
UPSTASH_REDIS_PASSWORD=

# Opção 2: Upstash Redis (Cloud) - Use para produção ou desenvolvimento remoto
# Descomente e preencha se usar Upstash:
# UPSTASH_REDIS_REST_URL=https://xxxxx.upstash.io
# UPSTASH_REDIS_REST_TOKEN=AxxxYYY...
# UPSTASH_REDIS_HOST=xxxxx.upstash.io
# UPSTASH_REDIS_PORT=6379
# UPSTASH_REDIS_PASSWORD=xxxxx

# ==========================================
# UPSTASH VECTOR (RAG - Obrigatório)
# ==========================================
UPSTASH_VECTOR_REST_URL=https://your-vector-instance.upstash.io
UPSTASH_VECTOR_REST_TOKEN=your_token_here

# ==========================================
# OPENAI
# ==========================================
OPENAI_API_KEY=sk-proj-xxxxx

# Assistant IDs (criar no OpenAI Dashboard)
CORTEX_ASSISTANT_ID=asst_xxxxx
OPENAI_APRESENTACAO_ASSISTANT_ID=asst_xxxxx
OPENAI_COMMRCIAL_ASSISTANT_ID=asst_xxxxx
OPENAI_FINANCEIRO_ASSISTANT_ID=asst_xxxxx
OPENAI_SUPORTE_ASSISTANT_ID=asst_xxxxx
OPENAI_OUVIDOIRA_ASSISTANT_ID=asst_xxxxx
OPENAI_CANCELAMENTO_ASSISTANT_ID=asst_xxxxx

# ==========================================
# EVOLUTION API (WhatsApp)
# ==========================================
# ⚠️ IMPORTANTE: A URL precisa começar com https://
EVOLUTION_API_URL=https://evolutionapi.trtelecom.net
EVOLUTION_API_KEY=your_key_here
EVOLUTION_INSTANCE=Leads

# Chaves específicas por instância (opcional - sobrescreve EVOLUTION_API_KEY)
# Se uma instância específica precisar de uma chave diferente, configure aqui:
# EVOLUTION_API_KEY_PRINCIPAL=your_key_for_principal
# EVOLUTION_API_KEY_LEADS=your_key_for_leads
# EVOLUTION_API_KEY_COBRANCA=your_key_for_cobranca
# EVOLUTION_API_KEY_ABERTURA=your_key_for_abertura

# ==========================================
# COMERCIAL API
# ==========================================
COMERCIAL_API_URL=https://comercial.trtelecom.net
COMERCIAL_VENDEDOR_CODIGO=LIA
WHATSAPP_COLLECTION_DELAY_MS=120000

# ==========================================
# SESSION / SECURITY
# ==========================================
# Gere uma string aleatória segura:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_SECRET=your_secret_here_change_in_production

# ==========================================
# FRONTEND
# ==========================================
# URL da API para o frontend (ajuste conforme seu ambiente)
VITE_API_URL=http://localhost:5000

# ==========================================
# TWILIO (Opcional - SMS/WhatsApp Templates)
# ==========================================
# TWILIO_ACCOUNT_SID=ACxxxxx
# TWILIO_AUTH_TOKEN=xxxxx
# TWILIO_PHONE_NUMBER=+5524999999999

# ==========================================
# TIMEZONE
# ==========================================
TZ=America/Sao_Paulo

