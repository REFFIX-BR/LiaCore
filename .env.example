# ==========================================
# LIA CORTEX - Environment Variables Template
# ==========================================
# Copy this file to .env and fill with your actual values
# NEVER commit .env to version control!

# ==========================================
# DATABASE
# ==========================================
DATABASE_URL="postgresql://user:password@ep-xxxx.us-east-1.aws.neon.tech/neondb?sslmode=require"

# ==========================================
# OPENAI
# ==========================================
OPENAI_API_KEY="sk-proj-xxxxx"

# OpenAI Assistant IDs (create at https://platform.openai.com/assistants)
ASSISTANT_ID_CORTEX="asst_xxxxx"           # Recepcionista (Router)
ASSISTANT_ID_APRESENTACAO="asst_xxxxx"    # Apresentação/Onboarding
ASSISTANT_ID_COMERCIAL="asst_xxxxx"       # Vendas/Comercial
ASSISTANT_ID_FINANCEIRO="asst_xxxxx"      # Financeiro/Boletos
ASSISTANT_ID_SUPORTE="asst_xxxxx"         # Suporte Técnico
ASSISTANT_ID_OUVIDORIA="asst_xxxxx"       # Ouvidoria/Reclamações
ASSISTANT_ID_CANCELAMENTO="asst_xxxxx"    # Cancelamento
ASSISTANT_ID_COBRANCA="asst_xxxxx"        # Cobrança/Dívidas

# ==========================================
# UPSTASH REDIS (Thread Storage + Queues)
# ==========================================
UPSTASH_REDIS_REST_URL="https://xxxxx.upstash.io"
UPSTASH_REDIS_REST_TOKEN="AxxxYYY..."

# ==========================================
# UPSTASH VECTOR (RAG Knowledge Base)
# ==========================================
UPSTASH_VECTOR_REST_URL="https://xxxxx.upstash.io"
UPSTASH_VECTOR_REST_TOKEN="AxxxYYY..."

# ==========================================
# EVOLUTION API - Instance 1 (Leads)
# ==========================================
EVOLUTION_API_URL_LEADS="https://evolutionapi.trtelecom.net"
EVOLUTION_API_KEY_LEADS="xxxxx"

# ==========================================
# EVOLUTION API - Instance 2 (Cobrança)
# ==========================================
EVOLUTION_API_URL_COBRANCA="https://evolutionapi.trtelecom.net"
EVOLUTION_API_KEY_COBRANCA="xxxxx"

# ==========================================
# EVOLUTION API - Instance 3 (Principal)
# ==========================================
EVOLUTION_API_URL_PRINCIPAL="https://evolutionapi.trtelecom.net"
EVOLUTION_API_KEY_PRINCIPAL="xxxxx"

# ==========================================
# EVOLUTION API - Fallback/Default
# ==========================================
EVOLUTION_API_URL="https://evolutionapi.trtelecom.net"
EVOLUTION_API_KEY="xxxxx"
EVOLUTION_API_INSTANCE="Leads"

# ==========================================
# EVOLUTION API - Webhook Configuration
# ==========================================
# This URL should point to your deployment
# Format: https://your-replit-app.replit.dev/webhook/evolution/{instance}
EVOLUTION_WEBHOOK_URL="https://your-app.replit.dev/webhook/evolution/Leads"

# ==========================================
# CRM / ERP INTEGRATION (Optional)
# ==========================================
# Your company's CRM/ERP API for invoice lookup, customer data, etc.
CRM_API_URL="https://crm.trtelecom.net/api"
CRM_API_KEY="xxxxx"

# ==========================================
# TWILIO (Optional - for SMS/Voice)
# ==========================================
TWILIO_ACCOUNT_SID="ACxxxxx"
TWILIO_AUTH_TOKEN="xxxxx"
TWILIO_PHONE_NUMBER="+5524999999999"

# ==========================================
# SESSION & SECURITY
# ==========================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_SECRET="your-secure-random-string-here-min-32-chars"

# ==========================================
# APPLICATION
# ==========================================
NODE_ENV="development"  # or "production"
PORT=5000

# ==========================================
# OPTIONAL FEATURES
# ==========================================
# Enable/disable specific features
ENABLE_GAMIFICATION=true
ENABLE_NPS_SURVEYS=true
ENABLE_AUTO_CLOSURE=true
ENABLE_CONTEXT_MONITORING=true

# Timing configurations (in minutes)
INACTIVITY_FOLLOWUP_DELAY=10
AUTO_CLOSURE_DELAY=30
MESSAGE_BATCH_DELAY=3

# Worker concurrency levels
MESSAGE_PROCESSING_CONCURRENCY=20
BATCH_PROCESSING_CONCURRENCY=10
IMAGE_ANALYSIS_CONCURRENCY=8

# Thread rotation (optimize OpenAI context window)
THREAD_ROTATION_ENABLED=true
THREAD_ROTATION_MESSAGE_THRESHOLD=55

# ==========================================
# MONITORING & LOGGING
# ==========================================
# Log levels: debug, info, warn, error
LOG_LEVEL="info"

# Enable detailed latency tracking
ENABLE_LATENCY_TRACKING=true
LATENCY_ALERT_THRESHOLD_SECONDS=30
